<div class="container py-5">


  
  <div class="card shadow-lg p-4">
    
<div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
  <h2 class="text-center text-primary" style="display: flex; align-items: center; gap: 10px;">
    <i class="material-icons" style="font-size: 36px;">apartment</i>
    Hotel Vendor Registration
  </h2>
</div>
    <!-- Progress Indicator -->
    <div class="progress mb-4" style="height: 30px;">
      <div
        class="progress-bar progress-bar-striped progress-bar-animated bg-success"
        role="progressbar"
        [style.width.%]="(step / (steps.length - 1)) * 100"
      >
        Step {{ step + 1 }} of {{ steps.length }}
      </div>
    </div>

    <!-- Form Start -->
    <form [formGroup]="vendorForm" (ngSubmit)="onSubmit()">
      <!-- Step Content -->
      <div [ngSwitch]="step">
        <!-- STEP 1 -->
        <div *ngSwitchCase="0">

          <h5  style="display: flex; align-items: center; "><i class="material-icons" style="font-size: 1 rem;">person</i> Vendor Information</h5>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label>Full Name *</label>
              <input type="text" class="form-control" formControlName="vendor_name" />
              <div *ngIf="isInvalid('vendor_name')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-6 mb-3">
              <label>Email *</label>
              <input type="email" class="form-control" formControlName="vendor_email" />
              <div *ngIf="isInvalid('vendor_email')" class="text-danger small">Valid email required</div>
            </div>
            <div class="col-md-6 mb-3">
              <label>Mobile Number *</label>
              <input type="tel" class="form-control" formControlName="Mobilenumber" />
              <div *ngIf="isInvalid('Mobilenumber')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-6 mb-3">
              <label>Password *</label>
              <input type="password" class="form-control" formControlName="vendor_password" />
              <div *ngIf="isInvalid('vendor_password')" class="text-danger small">Required</div>
            </div>
          </div>
        </div>

        <!-- STEP 2 -->
        <div *ngSwitchCase="1">
          <h5 style="display: flex; align-items: center; gap: 5px; "><i class="material-icons">business</i> Hotel Details</h5>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label>Hotel Name *</label>
              <input type="text" class="form-control" formControlName="hotelname" />
              <div *ngIf="isInvalid('hotelname')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-6 mb-3">
              <label>Hotel Type *</label>
              <select class="form-select" formControlName="hoteltype">
                <option value="">Select</option>
                <option>Hotel</option>
                <option>Resort</option>
                <option>Homestay</option>
              </select>
              <div *ngIf="isInvalid('hoteltype')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-6 mb-3">
              <label>Total Rooms *</label>
              <input type="number" class="form-control" formControlName="totalrooms" />
              <div *ngIf="isInvalid('totalrooms')" class="text-danger small">Required</div>
            </div>

               <div class="col-md-6 mb-3">
              <label>Confirm Password *</label>
              <input type="password" class="form-control" formControlName="vendor_password_confirmation" />
              <div *ngIf="isInvalid('vendor_password_confirmation')" class="text-danger small">Required</div>
            </div>
          </div>
        </div>

        <!-- STEP 3 -->
        <div *ngSwitchCase="2">
          <h5>üìç Location & Pricing</h5>
          <div class="row">
            <div class="col-md-4 mb-3">
              <label>City *</label>
              <input type="text" class="form-control" formControlName="city" />
              <div *ngIf="isInvalid('city')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-4 mb-3">
              <label>State *</label>
              <input type="text" class="form-control" formControlName="state" />
              <div *ngIf="isInvalid('state')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-4 mb-3">
              <label>Pincode *</label>
              <input type="text" class="form-control" formControlName="pincode" />
              <div *ngIf="isInvalid('pincode')" class="text-danger small">Required</div>
            </div>
             <div class="col-md-4 mb-3">
              <label>Address</label>
              <input type="text" class="form-control" formControlName="address" />
              <div *ngIf="isInvalid('address')" class="text-danger small">Required</div>
            </div>
            <div class="col-md-6 mb-3">
              <label>Base Price (‚Çπ) *</label>
              <input type="number" class="form-control" formControlName="baseprice" />
              <div *ngIf="isInvalid('baseprice')" class="text-danger small">Required</div>
            </div>
          </div>
        </div>

        
<div *ngSwitchCase="3">
  <h5>üì§ Uploads</h5>

  <!-- Hotel Images Upload -->
  <div class="mb-3">
    <label>Hotel Images *</label>
    <input
      type="file"
      #imageInput
      class="form-control"
      (change)="onImageChange($event)"
      multiple
    />

    <!-- Preview Selected Images -->
    <div class="d-flex flex-wrap mt-3">
      <div
        *ngFor="let image of hotelImages; let i = index"
        class="position-relative me-2 mb-2"
        style="width: 120px; height: 100px;"
      >
        <img
          [src]="image.preview"
          alt="Preview"
          class="img-thumbnail"
          style="width: 100%; height: 100%; object-fit: cover;"
        />
        <button
          type="button"
          class="btn btn-danger btn-sm position-absolute top-0 end-0"
          (click)="removeImage(i, imageInput)"
          style="border-radius: 50%; padding: 2px 6px;"
        >
          √ó
        </button>
      </div>
    </div>
  </div>

  <!-- License File -->
  <div class="mb-3">
  <label>License File *</label>
  <input
    type="file"
    class="form-control"
    (change)="onLicenseFileChange($event)"
  />
</div>

  <!-- GST Number -->
  <div class="mb-3">
  <label>GST Number (Optional)</label>
  <input
    type="text"
    class="form-control"
    formControlName="gstnumber"
    maxlength="15"
    pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}[Z]{1}[0-9A-Z]{1}$"
    [ngClass]="{ 'is-invalid': gstInvalid }"
    (input)="validateGST($event)"
    placeholder="22AAAAA0000A1Z5" 

  />
  <div *ngIf="gstInvalid" class="text-danger mt-1">
    Invalid GST number formate.
  </div>
</div>
</div>

        
      </div>

      <!-- Navigation Buttons -->
      <div class="d-flex justify-content-between mt-4">
        <button type="button" class="btn btn-outline-secondary" (click)="previousStep()" [disabled]="step === 0">Back</button>
        <button *ngIf="step < steps.length - 1" type="button" class="btn btn-primary" (click)="nextStep()">Next </button>
        <button *ngIf="step === steps.length - 1" type="submit" class="btn btn-success">Submit</button>
      </div>
    </form>

    <div *ngIf="submitted" class="alert alert-success mt-4 text-center">
      ‚úî Hotel registration submitted successfully!
    </div>
  </div>
</div>
